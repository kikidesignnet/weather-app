(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/sunnyloading.b0bb43cd.gif"},28:function(e,t,a){e.exports=a(63)},33:function(e,t,a){},34:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(17),s=a.n(r),o=(a(33),a(18)),c=a(19),l=a(26),u=a(20),h=a(27),d=(a(34),a(21)),m=a.n(d),g=a(3),p=a.n(g),f=a(22),w=a.n(f),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getTheCoords=function(){p.a.get("https://ipapi.co/json").then((function(e){var t=e.data;a.setState({theLocation:t,theLatitude:t.latitude,theLongitude:t.longitude,theCity:t.city,theRegion:t.region,theCountry:t.country},(function(){a.getTheWeather()}))}))},a.getTheWeather=function(){p.a.get("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/".concat("2420d30b631f01c154df2fc4a4e10379","/").concat(a.state.theLatitude,",").concat(a.state.theLongitude)).then((function(e){var t=e.data;a.setState({theCurrentWeatherArr:t.currently},(function(){console.log("this is currently ",a.state.theCurrentWeatherArr),a.getTheCuisines(),a.backgroundWeather()}))})).catch((function(e){console.log(e)}))},a.getTheCuisines=function(){p()({method:"GET",url:"https://developers.zomato.com/api/v2.1/cuisines?lat=".concat(a.state.theLatitude,"&lon=").concat(a.state.theLongitude),headers:{"user-key":"18c3615da2cae631992b35ca96a70f86","content-type":"application/json"}}).then((function(e){console.log("this is cuisines ",e.data.cuisines);var t=e.data.cuisines;a.setState({theCuisinesList:t}),a.filterTheCuisines()})).catch((function(e){console.log(e)}))},a.filterTheCuisines=function(){var e=["Beverages","Bubble Tea","Drinks Only","Frozen Yogurt","Ice Cream","Israeli","Juices","Peruvian","Salad","Seafood","Sushi","Tea"],t=["BBQ","Beverages","Cajun","Coffee and Tea","Crepes","Dim Sum","Drinks Only","Fondue","Grill","Indian","Mexican","Pizza","Ramen","Seafood","Tea","Thai"],n=[];n=a.state.theCurrentWeatherArr.temperature>=80?a.state.theCuisinesList.filter((function(t){return e.includes(t.cuisine.cuisine_name)})):a.state.theCuisinesList.filter((function(e){return t.includes(e.cuisine.cuisine_name)})),a.setState({thefilteredCuisineList:n}),a.getRandomCuisine()},a.getRandomCuisine=function(){var e=Math.floor(Math.random()*a.state.thefilteredCuisineList.length),t=a.state.thefilteredCuisineList[e].cuisine;a.setState({randomCuisine:t}),a.getRestaurants()},a.getRestaurants=function(){var e=a.state.randomCuisine.cuisine_id;p()({method:"GET",url:"https://developers.zomato.com/api/v2.1/search?count=".concat(3,"&lat=").concat(a.state.theLatitude,"&lon=").concat(a.state.theLongitude,"&radius=").concat(8,"&cuisines=").concat(e,"&sort=real_distance&order=asc"),headers:{"user-key":"18c3615da2cae631992b35ca96a70f86","content-type":"application/json"}}).then((function(e){a.setState({getRestaurantList:e.data.restaurants,loading:!1})})).catch((function(e){console.log(e)}))},a.showRestaurants=function(){return a.state.getRestaurantList.map((function(e,t){return i.a.createElement("div",{className:"card",key:t},i.a.createElement("h2",null,e.restaurant.name))}))},a.handleClick=function(){a.setState({showfahrenheit:!a.state.showfahrenheit})},a.backgroundWeather=function(){var e=a.state.theCurrentWeatherArr.icon||"cloudy";"cloudy"==e?a.setState({weatherBkgd:"cloudy"}):"rain"==e?a.setState({weatherBkgd:"rain"}):"clear-day"==e?a.setState({weatherBkgd:"clear-day"}):"clear-night"==e?a.setState({weatherBkgd:"clear-night"}):"snow"==e?a.setState({weatherBkgd:"snow"}):"sleet"==e?a.setState({weatherBkgd:"sleet"}):"strong-wind"==e?a.setState({weatherBkgd:"strong-wind"}):"fog"==e?a.setState({weatherBkgd:"fog"}):"partly-cloudy-day"==e?a.setState({weatherBkgd:"partly-cloudy-day"}):"partly-cloudy-night"==e?a.setState({weatherBkgd:"partly-cloudy-night"}):"hail"==e?a.setState({weatherBkgd:"hail"}):"tornado"==e?a.setState({weatherBkgd:"tornado"}):"thunderstorm"==e&&a.setState({weatherBkgd:"thunderstorm"})},a.state={theLocation:null,theLatitude:null,theLongitude:null,theCity:null,theRegion:null,theCountry:null,theTemperature:null,theCurrentWeatherArr:[],showfahrenheit:!1,loading:!0,theCuisinesList:[],thefilteredCuisineList:[],randomCuisine:[],getRestaurantList:[],weatherBkgd:null},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getTheCoords()}},{key:"render",value:function(){var e=Math.round(this.state.theCurrentWeatherArr.temperature),t=Math.round(5*(e-32)/9),a=this.state.theCurrentWeatherArr.icon||"cloudy";console.log("weather icon",a);var n=(new Date).toDateString();return i.a.createElement("div",{className:"App"},this.state.loading?i.a.createElement("div",{className:"loading"},i.a.createElement("h2",null,"Local Weather"),i.a.createElement("img",{src:w.a,alt:""})):i.a.createElement("div",{className:"wrapper ".concat(this.state.weatherBkgd)},i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"weatherbox"},i.a.createElement("div",{className:"locationbox"},i.a.createElement("div",{className:"locactioninfobox"},i.a.createElement("div",{className:"cityarea"},i.a.createElement("h2",{id:"cityname"},this.state.theCity)),i.a.createElement("div",{className:"countryarea"},i.a.createElement("h3",{id:"state"},this.state.theRegion),i.a.createElement("h3",{id:"country"},this.state.theCountry)),i.a.createElement("div",{className:"countryarea"},i.a.createElement("h3",null,n)))),i.a.createElement("div",{className:"temperaturearea"},i.a.createElement("div",{className:"toptempbox"},i.a.createElement("div",{className:"tempbox"},i.a.createElement("span",{id:"temp"},this.state.showfahrenheit?t:e)),i.a.createElement("div",{className:"wconditionsbox"},i.a.createElement("span",{id:"wparameter"},i.a.createElement(m.a,{name:"darksky",iconId:a})),i.a.createElement("span",{id:"wdescription"},this.state.theCurrentWeatherArr.summary))),i.a.createElement("div",{className:"weather main-toggle"},i.a.createElement("span",null,"F"),i.a.createElement("button",{id:"unit-switch",onClick:this.handleClick},i.a.createElement("span",{id:"unit-toggle",className:this.state.showfahrenheit?"toggle":""})),i.a.createElement("span",null,"C"))))),i.a.createElement("div",{className:"cuisine-suggestion"},i.a.createElement("h3",null,e>=80?"Keep cool with ":"Stay warm with ",i.a.createElement("span",null,this.state.randomCuisine.cuisine_name),"?"),i.a.createElement("div",null,this.showRestaurants()))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=a(25);s.a.render(i.a.createElement(v.a,null,i.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.0df9f6e2.chunk.js.map